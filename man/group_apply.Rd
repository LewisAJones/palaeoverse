% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/group_apply.R
\name{group_apply}
\alias{group_apply}
\title{Apply a function over grouping(s) of data}
\usage{
group_apply(occdf, group, fun, ...)
}
\arguments{
\item{occdf}{\code{dataframe}. A dataframe of fossil occurrences.
This dataframe must contain the grouping variables and the necessary
variables for the function you wish to call (see function specific
documentation for required columns).}

\item{group}{\code{character}. A vector of column names, specifying the
grouping (e.g. "collection_no", "stage_bin").}

\item{fun}{\code{function}. The function you wish to apply to
\code{occdf}. See details for compatible functions.}

\item{...}{Additional arguments available in the called
function. These additional arguments may be required for function arguments
without default values, or if you wish to overwrite the default argument
value (see examples).}
}
\value{
A \code{dataframe} of the outputs from the selected function, with an
appended column indicating the user-defined grouping (\code{grouping}).
}
\description{
A function to apply \code{palaeoverse} functionality across subsets (groups) of
data, delineated using one or more variables. \code{data.frame} related functions
(e.g. \code{nrow}, \code{ncol}, \code{lengths}, \code{unique}) may also be used.
}
\details{
\code{group_apply} enables the separate analysis of occurrences from
different time intervals, spatial regions, or trait values. The function
serves as a wrapper around \code{palaeoverse} functions on groupings of
data. \code{data.frame} related functions (e.g. \code{nrow}, \code{ncol}, \code{lengths},
\code{unique}) may also be used.
\cr
\cr
Relevant \code{palaeoverse} functions:
\itemize{
\item \code{\link{tax_unique}}: return the number of unique taxa per grouping
variable.
\item \code{\link{tax_range_time}}: return the temporal range of taxa per
grouping variable.
\item \code{\link{tax_range_geo}}: return the geographic range of taxa per
grouping variable.
\item \code{\link{tax_check}}: return potential spelling variations of the
same taxon per grouping variable. Note: \code{verbose} needs to be set to FALSE.
}
}
\section{Developer(s)}{

Lewis A. Jones & William Gearty
}

\section{Reviewer(s)}{

Kilian Eichenseer & Bethany Allen
}

\examples{
# Examples
# Get tetrapods data
occdf <- tetrapods
# Remove NA data
occdf <- subset(occdf, !is.na(genus))
# Count number of occurrences from each country
ex1 <- group_apply(occdf = occdf, group = c("cc"), fun = nrow)
# Temporal range of taxa per time bin with default arguments
ex2 <- group_apply(occdf = occdf, group = c("cc"), fun = tax_range_time)
# Temporal range of taxa per time bin with updated arguments
ex3 <- group_apply(occdf = occdf,
                   group = c("cc"),
                   fun = tax_range_time,
                   name = "family") # Run at family level (default: "genus")
# Use multiple variables (number of occurrences per collection and country)
ex4 <- group_apply(occdf = occdf,
                   group = c("collection_no", "cc"),
                   fun = nrow)
}
