% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/axis_geo.R
\name{axis_geo}
\alias{axis_geo}
\title{Add an axis with a geological timescale}
\usage{
axis_geo(
  side = 1,
  dat = "epochs",
  height = 5,
  fill = NULL,
  lab = TRUE,
  lab_color = NULL,
  size = 1,
  rot = 0,
  abbrv = TRUE,
  center_end_labels = FALSE,
  skip = c("Quaternary", "Holocene", "Late Pleistocene"),
  bord_color = "black",
  lty = par("lty"),
  lwd = par("lwd"),
  neg = FALSE,
  at = NULL,
  ...
)
}
\arguments{
\item{side}{Which side to add the axis to (\code{1}: bottom, \code{2}: left, \code{3}: top, \code{4}: right).}

\item{dat}{Either A) a string indicating a built-in dataframe with interval data from the ICS ("periods", "epochs", "stages", "eons", or "eras"),
B) a string indicating a timescale from macrostrat (see list here: \url{https://macrostrat.org/api/defs/timescales?all}),
or C) a custom data.frame of time interval boundaries (see Details).}

\item{height}{The height (or width if \code{side} is \code{2} or \code{4}) of the scale.
This is in axis value units, so \code{height} should be increased as the value range
of the axis opposite to the added axis increases.}

\item{fill}{The fill color of the boxes. The default is to use the \code{color} column included in \code{dat}.
If a custom dataset is provided with \code{dat} without a \code{color} column and without fill, a greyscale will be used.
Custom fill colors can be provided with this option (overriding the \code{color} column) and will be recycled if/as necessary.}

\item{lab}{Whether to include interval labels.}

\item{lab_color}{The color of the labels. The default is to use the \code{lab_color} column included in \code{dat}.
If a custom dataset is provided with \code{dat} without a \code{lab_color} column and without fill, all labels will be black.
Custom label colors can be provided with this option (overriding the \code{lab_color} column) and will be recycled if/as necessary.}

\item{size}{Label size (see \code{cex} in \code{\link[graphics:par]{graphics parameters}}).}

\item{rot}{The amount of counter-clockwise rotation to add to the labels (in degrees).
Note, labels for axes added to the left or right sides are already rotated 90 degrees.}

\item{abbrv}{If including labels, whether to use abbreviations instead of full interval names.
This only works if the data has an \code{abbr} column, otherwise the
\code{name} column will be used regardless of this setting.}

\item{center_end_labels}{Should labels be centered within the visible range of intervals at the ends of the axis?}

\item{skip}{A vector of interval names indicating which intervals should not be labeled.
If \code{abbrv} is \code{TRUE}, this can also include interval abbreviations.}

\item{bord_color}{The border color of the interval boxes.}

\item{lty}{Line type (see \code{lty} in \code{\link[graphics:par]{graphics parameters}}).}

\item{lwd}{Line width (see \code{lwd} in \code{\link[graphics:par]{graphics parameters}}).}

\item{neg}{Set this to true if your x-axis is using negative values.}

\item{...}{Further arguments to pass to \code{\link[graphics]{axis}}.}
}
\description{
\code{axis_geo} behaves similarly to \code{\link[graphics]{axis}} in that it
adds an axis to the specified side of of base R plot. The main difference
is that it also adds a geological timescale between the plot and the axis.
}
\details{
If a custom data.frame is provided (with \code{dat}), it should consist of at least 3 columns of data. See \code{deeptime::periods} for an example.
\itemize{
\item The \code{name} column lists the names of each time interval. These will be used as labels if no abbreviations are provided.
\item The \code{max_age} column lists the oldest boundary of each time interval.
\item The \code{min_age} column lists the youngest boundary of each time interval.
\item The \code{abbr} column is optional and lists abbreviations that may be used as labels.
\item The \code{color} column is also optional and lists a  for the background for each time interval (see the Color Specification section \code{\link[graphics:par]{here}}).
\item The \code{lab_color} column is also optional and lists a color for the label for each time interval (see the Color Specification section \code{\link[graphics:par]{here}}).
}

\code{dat} may also be a list if multiple time scales should be added to the plot.
In this case, \code{height}, \code{fill}, \code{lab}, \code{lab_color}, \code{size},
\code{rot}, \code{abbrv}, \code{center_end_labels}, \code{skip}, \code{bord_color},
\code{lty}, and \code{lwd} can also be lists.
If these lists are not as long as \code{dat}, the elements will be recycled.
If individual values (or vectors, e.g., for \code{skip}) are used for these parameters, they will be applied to all time scales (and recycled as necessary).
}
\examples{
#single scale on bottom
par(mar = c(5.1, 4.1, 4.1, 2.1)) # default margins
plot(0:100, axes = FALSE, xlim = c(100, 0), ylim = c(100, 0), xlab = NA, ylab = "Depth (m)")
box()
axis(2)
axis_geo(side = 1, dat = "periods")

#stack multiple scales
par(mar = c(6.6, 4.1, 4.1, 2.1)) # expanded bottom margin
plot(0:100, axes = FALSE, xlim = c(100, 0), ylim = c(100, 0), xlab = NA, ylab = "Depth (m)")
box()
axis(2)
axis_geo(side = 1, dat = list("epochs", "periods"))
}
